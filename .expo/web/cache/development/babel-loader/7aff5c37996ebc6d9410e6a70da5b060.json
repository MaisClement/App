{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Icon } from \"react-native-web/dist/index\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Trafic = function (_React$Component) {\n  _inherits(Trafic, _React$Component);\n\n  var _super = _createSuper(Trafic);\n\n  function Trafic(props) {\n    var _this;\n\n    _classCallCheck(this, Trafic);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      ratp: [],\n      transilien: [],\n      onload: true,\n      update_time: ''\n    };\n    _this.getTrafic = _this.getTrafic.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Trafic, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getTrafic();\n    }\n  }, {\n    key: \"getTrafic\",\n    value: function getTrafic() {\n      this.setState({\n        onload: true\n      });\n      this.getRATPTrafic();\n      this.getSNCFTrafic();\n      var time = new Date();\n      this.setState({\n        onload: false\n      });\n    }\n  }, {\n    key: \"getRATPTrafic\",\n    value: function getRATPTrafic() {\n      var _this2 = this;\n\n      var url = 'https://api-ratp.pierre-grimaud.fr/v4/traffic';\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          ratp: data.result\n        });\n      }).catch(function (err) {\n        _this2.setState({\n          ratp: []\n        });\n      });\n    }\n  }, {\n    key: \"getSNCFTrafic\",\n    value: function getSNCFTrafic() {\n      var _this3 = this;\n\n      var url = 'https://api.mylines.fr/transilien_trafic.php';\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this3.setState({\n          transilien: data.allPerturbationsByLine\n        });\n      }).catch(function (err) {\n        _this3.setState({\n          transilien: []\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var rer_lines = ['RER_A', 'RER_B', 'RER_C', 'RER_D', 'RER_E'];\n      var metro_lines = ['1', '2', '3', '3B', '4', '5', '6', '7', '7B', '8', '9', '10', '11', '12', '13', '14'];\n      var tram_lines = ['1', '2', '3A', '3B', '4', '5', '6', '7', '8'];\n      var tram_r_lines = ['TRAM_T9', 'TRAM_T11'];\n      var train_lines = ['TRAIN_H', 'TRAIN_J', 'TRAIN_K', 'TRAIN_L', 'TRAIN_N', 'TRAIN_P', 'TRAIN_R', 'TRAIN_U'];\n      return _jsxs(SafeAreaView, {\n        style: styles.container,\n        children: [_jsx(View, {\n          children: _jsx(Text, {\n            style: styles.title,\n            children: \"Infos Trafic\"\n          })\n        }), _jsxs(ScrollView, {\n          contentContainerStyle: styles.scrollView,\n          refreshControl: _jsx(RefreshControl, {\n            onRefresh: this.getTrafic,\n            refreshing: this.state.onload\n          }),\n          style: styles.trafics,\n          children: [_jsxs(View, {\n            style: styles.block,\n            children: [_jsx(RATP_trafic, {\n              line: 'A',\n              trafics: this.state.ratp.rers,\n              type: \"TRAM\",\n              img: require(\"./assets/img/lines/RER_A.png\")\n            }, 'rera'), _jsx(RATP_trafic, {\n              line: 'B',\n              trafics: this.state.ratp.rers,\n              type: \"TRAM\",\n              img: require(\"./assets/img/lines/RER_B.png\")\n            }, 'rerb'), _jsx(SNCF_trafic, {\n              line: 'RER_C',\n              trafics: this.state.transilien,\n              type: \"RER\",\n              img: require(\"./assets/img/lines/RER_C.png\")\n            }, 'rerc'), _jsx(SNCF_trafic, {\n              line: 'RER_D',\n              trafics: this.state.transilien,\n              type: \"RER\",\n              img: require(\"./assets/img/lines/RER_D.png\")\n            }, 'rerd'), _jsx(SNCF_trafic, {\n              line: 'RER_E',\n              trafics: this.state.transilien,\n              type: \"RER\",\n              img: require(\"./assets/img/lines/RER_E.png\")\n            }, 'rere')]\n          }), _jsx(View, {\n            style: styles.space\n          }), _jsxs(View, {\n            style: styles.block,\n            children: [_jsx(RATP_trafic, {\n              line: '1',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_1.png\")\n            }, 'm1'), _jsx(RATP_trafic, {\n              line: '2',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_2.png\")\n            }, 'm2'), _jsx(RATP_trafic, {\n              line: '3',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_3.png\")\n            }, 'm3'), _jsx(RATP_trafic, {\n              line: '3B',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_3B.png\")\n            }, 'm3b'), _jsx(RATP_trafic, {\n              line: '4',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_4.png\")\n            }, 'm4'), _jsx(RATP_trafic, {\n              line: '5',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_5.png\")\n            }, 'm5'), _jsx(RATP_trafic, {\n              line: '6',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_6.png\")\n            }, 'm6'), _jsx(RATP_trafic, {\n              line: '7',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_7.png\")\n            }, 'm7'), _jsx(RATP_trafic, {\n              line: '7B',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_7B.png\")\n            }, 'm7b'), _jsx(RATP_trafic, {\n              line: '8',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_8.png\")\n            }, 'm8'), _jsx(RATP_trafic, {\n              line: '9',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_9.png\")\n            }, 'm9'), _jsx(RATP_trafic, {\n              line: '10',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_10.png\")\n            }, 'm10'), _jsx(RATP_trafic, {\n              line: '11',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_11.png\")\n            }, 'm11'), _jsx(RATP_trafic, {\n              line: '12',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_12.png\")\n            }, 'm12'), _jsx(RATP_trafic, {\n              line: '13',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_13.png\")\n            }, 'm13'), _jsx(RATP_trafic, {\n              line: '14',\n              trafics: this.state.ratp.metros,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/METRO_14.png\")\n            }, 'm14')]\n          }), _jsx(View, {\n            style: styles.space\n          }), _jsxs(View, {\n            style: styles.block,\n            children: [_jsx(RATP_trafic, {\n              line: '1',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_1.png\")\n            }, 't1'), _jsx(RATP_trafic, {\n              line: '2',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_2.png\")\n            }, 't2'), _jsx(RATP_trafic, {\n              line: '3A',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_3A.png\")\n            }, 't3a'), _jsx(RATP_trafic, {\n              line: '3B',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_3B.png\")\n            }, 't3b'), _jsx(RATP_trafic, {\n              line: '4',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_4.png\")\n            }, 't4'), _jsx(RATP_trafic, {\n              line: '5',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_5.png\")\n            }, 't5'), _jsx(RATP_trafic, {\n              line: '6',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_6.png\")\n            }, 't6'), _jsx(RATP_trafic, {\n              line: '7',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_7.png\")\n            }, 't7'), _jsx(RATP_trafic, {\n              line: '8',\n              trafics: this.state.ratp.tramways,\n              type: \"METRO\",\n              img: require(\"./assets/img/lines/TRAM_8.png\")\n            }, 't8'), _jsx(SNCF_trafic, {\n              line: 'TRAM_T9',\n              trafics: this.state.transilien,\n              type: \"TRAM\",\n              img: require(\"./assets/img/lines/TRAM_9.png\")\n            }, 't9'), _jsx(SNCF_trafic, {\n              line: 'TRAM_T11',\n              trafics: this.state.transilien,\n              type: \"TRAM\",\n              img: require(\"./assets/img/lines/TRAM_11.png\")\n            }, 't11')]\n          }), _jsx(View, {\n            style: styles.space\n          }), _jsxs(View, {\n            style: styles.block,\n            children: [_jsx(SNCF_trafic, {\n              line: 'TRAIN_H',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_H.png\")\n            }, 'trainH'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_J',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_J.png\")\n            }, 'trainJ'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_K',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_K.png\")\n            }, 'trainK'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_L',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_L.png\")\n            }, 'trainL'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_N',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_N.png\")\n            }, 'trainN'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_P',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_P.png\")\n            }, 'trainP'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_R',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_R.png\")\n            }, 'trainR'), _jsx(SNCF_trafic, {\n              line: 'TRAIN_U',\n              trafics: this.state.transilien,\n              type: \"TRAIN\",\n              img: require(\"./assets/img/lines/TRAIN_U.png\")\n            }, 'trainU')]\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return Trafic;\n}(React.Component);\n\nvar SNCF_trafic = function (_React$Component2) {\n  _inherits(SNCF_trafic, _React$Component2);\n\n  var _super2 = _createSuper(SNCF_trafic);\n\n  function SNCF_trafic(props) {\n    var _this4;\n\n    _classCallCheck(this, SNCF_trafic);\n\n    _this4 = _super2.call(this, props);\n    _this4.state = {\n      details: false\n    };\n    return _this4;\n  }\n\n  _createClass(SNCF_trafic, [{\n    key: \"showDetails\",\n    value: function showDetails() {\n      this.setState({\n        details: !this.state.details\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var i = 1;\n      var line = this.props.line;\n      var trafics = this.props.trafics;\n      var type = this.props.type;\n      var img = this.props.img;\n      var color;\n\n      if (this.state.details == true) {\n        return _jsxs(Overlay, {\n          isVisible: true,\n          children: [_jsx(Text, {\n            children: \"Hello!\"\n          }), _jsx(Text, {\n            children: \"Welcome to React Native Elements\"\n          })]\n        });\n      }\n\n      if (typeof trafics === \"undefined\") {\n        color = 0;\n      } else {\n        for (var i = 0; i < trafics.length; i++) {\n          if (trafics[i].transportLine == line && trafics[i].hasTrafficDisruptions == true) {\n            color = 1;\n          }\n\n          if (trafics[i].transportLine == line && trafics[i].hasWorksDisruptions == true) {\n            color = 2;\n          }\n        }\n      }\n\n      return _jsx(View, {\n        style: styles.trafic_block,\n        onPress: function onPress() {\n          _this5.showDetails();\n        },\n        children: _jsx(View, {\n          style: style(color),\n          children: _jsx(Image, {\n            style: styles.trafic_img,\n            source: img\n          })\n        })\n      });\n    }\n  }]);\n\n  return SNCF_trafic;\n}(React.Component);\n\nvar RATP_trafic = function (_React$Component3) {\n  _inherits(RATP_trafic, _React$Component3);\n\n  var _super3 = _createSuper(RATP_trafic);\n\n  function RATP_trafic() {\n    _classCallCheck(this, RATP_trafic);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(RATP_trafic, [{\n    key: \"render\",\n    value: function render() {\n      var i = 1;\n      var line = this.props.line;\n      var trafics = this.props.trafics;\n      var type = this.props.type;\n      var img = this.props.img;\n      var color;\n\n      if (typeof trafics === \"undefined\") {\n        color = 0;\n      } else {\n        for (var i = 0; i < trafics.length; i++) {\n          if (trafics[i].line == line && trafics[i].slug == 'critical') {\n            color = 1;\n          }\n\n          if (trafics[i].line == line && trafics[i].slug == 'normal_trav') {\n            color = 2;\n          }\n        }\n      }\n\n      return _jsx(View, {\n        style: styles.trafic_block,\n        children: _jsx(View, {\n          style: style(color),\n          children: _jsx(Image, {\n            style: styles.trafic_img,\n            source: img\n          })\n        })\n      });\n    }\n  }]);\n\n  return RATP_trafic;\n}(React.Component);\n\nfunction style(slug) {\n  if (slug == 1) {\n    return {\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderColor: '#ff6800',\n      borderRadius: 10\n    };\n  } else if (slug == 2) {\n    return {\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderBottomColor: '#ff3c00',\n      borderRadius: 10\n    };\n  } else {\n    return {\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderColor: '#303138',\n      borderRadius: 10\n    };\n  }\n}\n\nexport default Trafic;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#191c2b'\n  },\n  title: {\n    fontSize: 30,\n    textAlign: 'left',\n    fontWeight: 'bold',\n    color: '#fff',\n    margin: 23\n  },\n  trafics: {\n    backgroundColor: '#ffffff14',\n    borderRadius: 10,\n    margin: 15,\n    paddingBottom: 15,\n    flexGrow: 0\n  },\n  block: {\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  trafic_block: {\n    backgroundColor: '#00000014',\n    borderRadius: 10,\n    marginTop: 15,\n    marginLeft: 15,\n    height: 40,\n    width: 45\n  },\n  trafic_img: {\n    height: 30,\n    width: 30,\n    margin: 5\n  },\n  space: {\n    backgroundColor: '#868686',\n    marginTop: 15,\n    marginLeft: 10,\n    marginRight: 10,\n    borderRadius: 2,\n    height: 2\n  },\n  details: {\n    zIndex: 5,\n    flex: 1,\n    backgroundColor: '#202020',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }\n});","map":{"version":3,"sources":["/home/code/app/trafic.js"],"names":["StatusBar","React","Icon","Trafic","props","state","ratp","transilien","onload","update_time","getTrafic","bind","setState","getRATPTrafic","getSNCFTrafic","time","Date","url","fetch","then","res","json","data","result","catch","err","allPerturbationsByLine","rer_lines","metro_lines","tram_lines","tram_r_lines","train_lines","styles","container","title","scrollView","trafics","block","rers","require","space","metros","tramways","Component","SNCF_trafic","details","i","line","type","img","color","length","transportLine","hasTrafficDisruptions","hasWorksDisruptions","trafic_block","showDetails","style","trafic_img","RATP_trafic","slug","borderWidth","borderStyle","borderColor","borderRadius","borderBottomColor","StyleSheet","create","flex","backgroundColor","fontSize","textAlign","fontWeight","margin","paddingBottom","flexGrow","flexDirection","flexWrap","marginTop","marginLeft","height","width","marginRight","zIndex","left","right","top","bottom"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { RefreshControl, SafeAreaView, ScrollView, StyleSheet, Text, Icon, View, Image  } from 'react-native';\n\nclass Trafic extends React.Component  {\n  constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n      ratp: [],\n\t\t\ttransilien: [],\n      onload: true,\n      update_time: '',\n    };\n    this.getTrafic = this.getTrafic.bind(this);\n\t}\n  \n  componentDidMount(){\n    this.getTrafic();\n  }\n\n  getTrafic(){\n    this.setState({\n      onload: true\n    });\n\n    this.getRATPTrafic();\n    this.getSNCFTrafic();\n\n    let time = new Date();\n    this.setState({\n      onload: false\n    });\n  }\n\n\tgetRATPTrafic() {\n    // RATP uniquement\n    let url = 'https://api-ratp.pierre-grimaud.fr/v4/traffic';\n          \n    fetch(url)\n    .then(res => res.json())\n    .then(data => {\n        this.setState({\n            ratp: data.result\n        });\n    })\n    .catch(err => {\n        this.setState({\n            ratp: []\n        }); \n    });\n\t}\n\n  getSNCFTrafic(){\n    // SNCF\n    let url = 'https://api.mylines.fr/transilien_trafic.php';\n          \n    fetch(url)\n    .then(res => res.json())\n    .then(data => {\n        this.setState({\n            transilien: data.allPerturbationsByLine\n        });\n    })\n    .catch(err => {\n        this.setState({\n            transilien: []\n        }); \n    });\n  }\n\n\trender(){\n    var rer_lines = ['RER_A', 'RER_B', 'RER_C', 'RER_D', 'RER_E'];\n    var metro_lines = ['1', '2', '3', '3B', '4', '5', '6', '7', '7B', '8', '9', '10', '11', '12', '13', '14'];\n    var tram_lines = ['1', '2', '3A', '3B', '4', '5', '6', '7', '8'];\n\t\tvar tram_r_lines = ['TRAM_T9', 'TRAM_T11'];\n\t\tvar train_lines = ['TRAIN_H', 'TRAIN_J', 'TRAIN_K', 'TRAIN_L', 'TRAIN_N', 'TRAIN_P', 'TRAIN_R', 'TRAIN_U'];\n\n\t\treturn (\n      <SafeAreaView  style={styles.container}>          \n          <View>      \n            <Text style={styles.title}>Infos Trafic</Text>\n          </View>\n\n          <ScrollView\n            contentContainerStyle={styles.scrollView}\n            refreshControl={\n              <RefreshControl\n                onRefresh={this.getTrafic}\n                refreshing = {this.state.onload}\n              />\n            }\n            style={styles.trafics}>\n              <View style={styles.block}>\n                  <RATP_trafic\n                    key = {'rera'}\n                    line = {'A'}\n                    trafics = {this.state.ratp.rers}\n                    type = 'TRAM'\n                    img = {require('./assets/img/lines/RER_A.png')}\n                  />\n                  <RATP_trafic\n                    key = {'rerb'}\n                    line = {'B'}\n                    trafics = {this.state.ratp.rers}\n                    type = 'TRAM'\n                    img = {require('./assets/img/lines/RER_B.png')}\n                  />\n                  <SNCF_trafic\n                    key = {'rerc'}\n                    line = {'RER_C'}\n                    trafics = {this.state.transilien}\n                    type = 'RER'\n                    img = {require('./assets/img/lines/RER_C.png')}\n                  />\n                  <SNCF_trafic\n                    key = {'rerd'}\n                    line = {'RER_D'}\n                    trafics = {this.state.transilien}\n                    type = 'RER'\n                    img = {require('./assets/img/lines/RER_D.png')}\n                  />\n                  <SNCF_trafic\n                    key = {'rere'}\n                    line = {'RER_E'}\n                    trafics = {this.state.transilien}\n                    type = 'RER'\n                    img = {require('./assets/img/lines/RER_E.png')}\n                  />\n              </View>\n\n              <View style={styles.space}></View>\n\n              <View style={styles.block}>\n                <RATP_trafic\n                  key = {'m1'}\n                  line = {'1'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_1.png')}\n                />\n                <RATP_trafic\n                  key = {'m2'}\n                  line = {'2'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_2.png')}\n                />\n                <RATP_trafic\n                  key = {'m3'}\n                  line = {'3'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_3.png')}\n                />\n                <RATP_trafic\n                  key = {'m3b'}\n                  line = {'3B'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_3B.png')}\n                />\n                <RATP_trafic\n                  key = {'m4'}\n                  line = {'4'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_4.png')}\n                />\n                <RATP_trafic\n                  key = {'m5'}\n                  line = {'5'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_5.png')}\n                />\n                <RATP_trafic\n                  key = {'m6'}\n                  line = {'6'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_6.png')}\n                />\n                <RATP_trafic\n                  key = {'m7'}\n                  line = {'7'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_7.png')}\n                />\n                <RATP_trafic\n                  key = {'m7b'}\n                  line = {'7B'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_7B.png')}\n                />\n                <RATP_trafic\n                  key = {'m8'}\n                  line = {'8'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_8.png')}\n                />\n                <RATP_trafic\n                  key = {'m9'}\n                  line = {'9'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_9.png')}\n                />\n                <RATP_trafic\n                  key = {'m10'}\n                  line = {'10'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_10.png')}\n                />\n                <RATP_trafic\n                  key = {'m11'}\n                  line = {'11'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_11.png')}\n                />\n                <RATP_trafic\n                  key = {'m12'}\n                  line = {'12'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_12.png')}\n                />\n                <RATP_trafic\n                  key = {'m13'}\n                  line = {'13'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_13.png')}\n                />\n                <RATP_trafic\n                  key = {'m14'}\n                  line = {'14'}\n                  trafics = {this.state.ratp.metros}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/METRO_14.png')}\n                />\n              </View>\n    \n              <View style={styles.space}></View>\n              \n              <View style={styles.block}>\n                <RATP_trafic\n                  key = {'t1'}\n                  line = {'1'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_1.png')}\n                />\n                <RATP_trafic\n                  key = {'t2'}\n                  line = {'2'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_2.png')}\n                />\n                <RATP_trafic\n                  key = {'t3a'}\n                  line = {'3A'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_3A.png')}\n                />\n                <RATP_trafic\n                  key = {'t3b'}\n                  line = {'3B'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_3B.png')}\n                />\n                <RATP_trafic\n                  key = {'t4'}\n                  line = {'4'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_4.png')}\n                />\n                <RATP_trafic\n                  key = {'t5'}\n                  line = {'5'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_5.png')}\n                />\n                <RATP_trafic\n                  key = {'t6'}\n                  line = {'6'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_6.png')}\n                />\n                <RATP_trafic\n                  key = {'t7'}\n                  line = {'7'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_7.png')}\n                />\n                <RATP_trafic\n                  key = {'t8'}\n                  line = {'8'}\n                  trafics = {this.state.ratp.tramways}\n                  type = 'METRO'\n                  img = {require('./assets/img/lines/TRAM_8.png')}\n                />\n                <SNCF_trafic\n                  key = {'t9'}\n                  line = {'TRAM_T9'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAM'\n                  img = {require('./assets/img/lines/TRAM_9.png')}\n                />\n                <SNCF_trafic\n                  key = {'t11'}\n                  line = {'TRAM_T11'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAM'\n                  img = {require('./assets/img/lines/TRAM_11.png')}\n                />\n              </View>\n\n              <View style={styles.space}></View>\n\n              <View style={styles.block}>\n                <SNCF_trafic\n                  key = {'trainH'}\n                  line = {'TRAIN_H'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_H.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainJ'}\n                  line = {'TRAIN_J'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_J.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainK'}\n                  line = {'TRAIN_K'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_K.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainL'}\n                  line = {'TRAIN_L'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_L.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainN'}\n                  line = {'TRAIN_N'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_N.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainP'}\n                  line = {'TRAIN_P'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_P.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainR'}\n                  line = {'TRAIN_R'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_R.png')}\n                />\n                <SNCF_trafic\n                  key = {'trainU'}\n                  line = {'TRAIN_U'}\n                  trafics = {this.state.transilien}\n                  type = 'TRAIN'\n                  img = {require('./assets/img/lines/TRAIN_U.png')}\n                />\n              </View>\n              \n          </ScrollView>\n          \n      </SafeAreaView >\n    );\n  }\n}\n\nclass SNCF_trafic extends React.Component  {\n  constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n      details: false,\n    };\n\t}\n\n  showDetails(){\n    this.setState({\n      details : (!this.state.details)\n    })\n  }\n\n  render(){\n    var i = 1;\n    const line = this.props.line;\n    const trafics = this.props.trafics;\n    const type = this.props.type;\n    const img = this.props.img;\n\n    let color;\n\n    if (this.state.details == true){\n      return (\n        <Overlay isVisible={true}>\n          <Text>Hello!</Text>\n          <Text>\n            Welcome to React Native Elements\n          </Text>\n        </Overlay>\n      );\n    }\n\n    if (typeof trafics === \"undefined\"){\n      color = 0;\n    } else {\n      for(var i = 0; i < trafics.length; i++){\n        if (trafics[i].transportLine == line && trafics[i].hasTrafficDisruptions == true){\n          color = 1;\n        }\n        if (trafics[i].transportLine == line && trafics[i].hasWorksDisruptions == true){\n          color = 2;\n        }\n      }\n    }\n\n    return (\n      <View style={styles.trafic_block} onPress={() => {this.showDetails()}}>\n        <View style={style(color)}>\n          <Image style={styles.trafic_img} source={img}></Image>\n        </View>\n      </View>\n    );\n    \n  }\n}\nclass RATP_trafic extends React.Component  {\n\trender(){\n\t\tvar i = 1;\n\t\tconst line = this.props.line;\n\t\tconst trafics = this.props.trafics;\n\t\tconst type = this.props.type;\n    const img = this.props.img;\n\n    let color;\n\n    if (typeof trafics === \"undefined\"){\n      color = 0;\n    } else {\n      for(var i = 0; i < trafics.length; i++){\n        if (trafics[i].line == line && trafics[i].slug == 'critical'){\n          color = 1;\n        }\n        if (trafics[i].line == line && trafics[i].slug == 'normal_trav'){\n          color = 2;\n        }\n      }\n    }\n\n\t\treturn (\n\t\t\t<View style={styles.trafic_block}>\n        <View style={style(color)}>\n          <Image style={styles.trafic_img} source={img}></Image>\n        </View>\n      </View>\n\t\t);\n\t}\n}\n\nfunction style(slug){\n  if (slug == 1){\n    return ({\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderColor: '#ff6800',\n      borderRadius: 10\n    });\n  } else if (slug == 2){\n    return ({\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderBottomColor: '#ff3c00',\n      borderRadius: 10\n    });\n  } else {\n    return ({\n      borderWidth: 3,\n      borderStyle: 'solid',\n      borderColor: '#303138',\n      borderRadius: 10\n    });\n  }\n}\n\nexport default Trafic;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#191c2b',\n  },\n  title: {\n    fontSize: 30,\n    textAlign: 'left',\n    fontWeight: 'bold',\n    color: '#fff',\n    margin: 23,\n  },\n  trafics: {\n    backgroundColor: '#ffffff14',\n    borderRadius: 10,\n    margin: 15,\n    paddingBottom: 15,\n    flexGrow:0\n  },\n  block: {\n    flexDirection:'row',\n    flexWrap:'wrap',\n  },\n  trafic_block: {\n    backgroundColor: '#00000014',\n    borderRadius: 10,\n    marginTop: 15,\n    marginLeft: 15,\n    height: 40,\n    width: 45,\n  },\n  trafic_img: {\n    height: 30,\n    width: 30,\n    margin: 5,\n  },\n  space: {\n    backgroundColor: '#868686',\n    marginTop: 15,\n    marginLeft: 10,\n    marginRight: 10,\n    borderRadius: 2,\n    height: 2,\n  },\n  details: {\n    zIndex: 5,\n    flex: 1,\n    backgroundColor: '#202020',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n  }\n});\n"]},"metadata":{},"sourceType":"module"}